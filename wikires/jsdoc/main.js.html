<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: main.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>importClass(Packages.de.dakror.liturfaliarcest.settings.FlagManager);
importClass(Packages.de.dakror.liturfaliarcest.game.Game);

var game, tilesize;
/**
 * Teleports the given entity to a given location on the active map
 * 
 * @param e {(Entity|int)} - Entity (-UID) to teleport
 * @param x {int} - new X Position
 * @param y {int} - new Y Position
 * @param bumpPos {boolean} - if position should be set for bumpRectangle or for top-left Corner of e
 */
function teleport(e, x, y, bumpPos)
{
	if ((typeof e) == "number") e = Game.world.getEntityForUID(parseInt(e));
	e.setX(x - (bumpPos ? e.bumpX : 0));
	e.setY(y - (bumpPos ? e.bumpY : 0));
}

/**
 * Teleports the player to a given location on a different map
 * 
 * @param x {int} - new X Position
 * @param y {int} - new Y Position
 * @param map {String} - name of new map
 * @param bumpPos {boolean} - if position should be set for bumpRectangle or for top-left Corner of e
 */
function teleportMap(x, y, map, bumpPos)
{
	game.fadeTo(1.0, 0.05);
	game.actionOnFade = "function() {game.setWorld('" + map + "'); teleport(game.player, " + x + ", " + y + ", " + bumpPos + ");game.fadeTo(0, 0.05);}";
}

/**
 * Sets the given flag in the Flag System if it has not been set yet.
 * 
 * @param flag {String} - name of the flag, preferrably in captial letters
 */
function setFlag(flag)
{
	FlagManager.setFlag(flag);
}

/**
 * Adds the given flag to the Flag System.
 * 
 * @param flag {String} - name of the flag, preferrably in captial letters
 */
function addFlag(flag)
{
	FlagManager.addFlag(flag);
}

/**
 * Removes the given flag from the Flag System.
 * 
 * @param flag {String} - name of the flag, preferrably in captial letters
 * @param all {boolean} - if set all occurences of this flag will be removed, not just one
 */
function removeFlag(flag, all)
{
	if(!all)FlagManager.removeFlag(flag);
	else FlagManager.removeAllFlags(flag);
}

/**
 * Returns the state of the given flag.
 * 
 * @param flag {String} - name of the flag, preferrably in captial letters
 * @returns boolean
 */
function isFlag(flag)
{
	return FlagManager.isFlag(flag);
}

/**
 * Returns the amount this flag occurs in the Flag System.
 * @param flag {String} - name of the flag, preferrably in captial letters
 * @returns int
 */
function countFlag(flag){
	return FlagManager.countFlag(flag);
}

/**
 * Checks if the given flag expression is matching
 * 
 * @param flags {String} - flag expression to be matched against
 * @returns boolean
 */
function matches(flags)
{
	return FlagManager.matchesFlags(flags);
}

/**
 * Manually triggers the talk of the given entity
 * 
 * @param {(Entity|int)} entity - Entity (-UID) whose talk will be started
 */
function talk(entity)
{
	if ((typeof entity) == "number") entity = Game.world.getEntityForUID(parseInt(entity));
	game.player.startTalk(entity);
}

/**
 * Manually ends the active talk
 */
function endTalk()
{
	game.endTalk();
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Global</h3><ul><li><a href="global.html#addFlag">addFlag</a></li><li><a href="global.html#countFlag">countFlag</a></li><li><a href="global.html#endTalk">endTalk</a></li><li><a href="global.html#isFlag">isFlag</a></li><li><a href="global.html#matches">matches</a></li><li><a href="global.html#removeFlag">removeFlag</a></li><li><a href="global.html#setFlag">setFlag</a></li><li><a href="global.html#talk">talk</a></li><li><a href="global.html#teleport">teleport</a></li><li><a href="global.html#teleportMap">teleportMap</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed Feb 19 2014 17:34:58 GMT+0100 (MEZ)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
